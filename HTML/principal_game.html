<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Selecciona tu Personaje</title>

    <!-- Tailwind + Config -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;700;900&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        "primary": "#FFCB05",
                        "text-primary": "#1F2937",
                        "text-secondary": "#6B7280",
                        "background": "#F9FAFB",
                        "card": "#FFFFFF",
                        "border": "#E5E7EB"
                    },
                    fontFamily: {
                        "display": ["Public Sans", "sans-serif"]
                    },
                    boxShadow: {
                        "card": "0 4px 12px rgba(0,0,0,0.05)"
                    }
                },
            }
        }
    </script>

    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        body {
            font-family: 'Public Sans', sans-serif;
            background-color: #F9FAFB;
        }

        /* Card gamer */
        .card {
            position: relative;
            display: flex;
            flex-direction: column;
            background-color: #242824;
            padding: 10px;
            border-radius: 8px;
            gap: 0.6rem;
            cursor: pointer;
            transition: 0.2s ease-in-out;
        }

        .card:hover {
            transform: scale(1.03);
        }

        .card_form {
            position: relative;
            width: 100%;
            height: 12em;
            border-radius: 6px;
            background-color: #9147ff;
            overflow: hidden;
            background-size: cover;
            background-position: center;
            transition: all 0.2s ease-in-out;
        }

        .card_form span {
            position: absolute;
            inset: 0;
            padding: 5px 10px;
            color: #fff;
            display: flex;
            align-items: flex-end;
            font-size: 1.2em;
            background-image: linear-gradient(to top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.7) 100%);
            opacity: 0;
            transition: 0.2s;
        }

        .card:hover .card_form span,
        .card:hover .card_data span {
            opacity: 1;
        }

        .card_data {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .card_data span {
            color: #9147ff;
            font-size: .9em;
            opacity: 0;
            transition: 0.2s;
        }

        .text {
            display: flex;
            flex-direction: column;
            color: white;
        }

        .text_m {
            font-size: 0.95em;
            font-weight: bold;
        }

        .text_s {
            color: #9147ff;
            font-size: 0.7em;
        }

        .cube {
            transition: all 0.3s;
            transform-style: preserve-3d;
        }

        .card:hover .cube {
            transform: rotateX(90deg);
        }

        .side {
            height: 1em;
            font-weight: bold;
        }

        .front {
            transform: translate3d(0,0,1em);
        }

        .top {
            transform: rotateX(-90deg);
        }
    </style>
</head>

<body>

    <div class="max-w-md mx-auto min-h-screen flex flex-col">

        <header class="sticky top-0 z-10 bg-white p-4 border-b">
            <h1 class="text-center font-bold">Elige tu Personaje</h1>
        </header>

        <main class="p-4">
            <p class="text-center text-text-secondary mb-4">
                Â¡Apoya a tu favorito y haz que llegue al top 10!
            </p>

            <div id="personajes-container" class="grid grid-cols-2 gap-4"></div>
        </main>

        <div id="site-footer"></div>

        <script>
            // Cargar footer
            fetch('footer.html')
                .then(r => r.ok ? r.text() : "")
                .then(html => document.getElementById("site-footer").innerHTML = html);
        </script>

        <!-- SCRIPT PRINCIPAL -->
        <script src="script_game2.js"></script>

        <!-- REEMPLAZA mostrarPersonajes POR ESTE -->
        <script>
        function mostrarPersonajes() {
            const cont = document.getElementById('personajes-container');
            cont.innerHTML = "";

            personajes.forEach(p => {
                cont.innerHTML += `
                    <div class="card" onclick="seleccionarPersonaje(${p.id})">
                        <div class="card_form" style="background-image:url('${p.foto_url}')">
                            <span>${p.nombre}</span>
                        </div>

                        <div class="card_data">
                            <div class="text">
                                <label class="text_m">${p.nombre}</label>

                                <div class="cube text_s">
                                    <label class="side front">Ver detalles</label>
                                    <label class="side top">ID: ${p.id}</label>
                                </div>
                            </div>

                            <span>Elegir</span>
                        </div>
                    </div>
                `;
            });
        }
        </script>

    </div>

</body>
</html>
